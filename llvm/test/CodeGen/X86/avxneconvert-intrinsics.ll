; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py
; RUN: llc < %s -O0 -verify-machineinstrs -mtriple=x86_64-unknown-unknown --show-mc-encoding -mattr=+avxneconvert | FileCheck %s --check-prefixes=CHECK,X64
; RUN: llc < %s -O0 -verify-machineinstrs -mtriple=i686-unknown-unknown --show-mc-encoding -mattr=+avxneconvert | FileCheck %s --check-prefixes=CHECK,X86

define <4 x float> @test_int_x86_vbcstnebf162ps128(ptr %A) {
; X64-LABEL: test_int_x86_vbcstnebf162ps128:
; X64:       # %bb.0:
; X64-NEXT:    pushq %rax # encoding: [0x50]
; X64-NEXT:    .cfi_def_cfa_offset 16
; X64-NEXT:    callq llvm.x86.vbcstnebf162ps128@PLT # encoding: [0xe8,A,A,A,A]
; X64-NEXT:    # fixup A - offset: 1, value: llvm.x86.vbcstnebf162ps128@PLT-4, kind: FK_PCRel_4
; X64-NEXT:    popq %rax # encoding: [0x58]
; X64-NEXT:    .cfi_def_cfa_offset 8
; X64-NEXT:    retq # encoding: [0xc3]
;
; X86-LABEL: test_int_x86_vbcstnebf162ps128:
; X86:       # %bb.0:
; X86-NEXT:    pushl %ebp # encoding: [0x55]
; X86-NEXT:    .cfi_def_cfa_offset 8
; X86-NEXT:    .cfi_offset %ebp, -8
; X86-NEXT:    movl %esp, %ebp # encoding: [0x89,0xe5]
; X86-NEXT:    .cfi_def_cfa_register %ebp
; X86-NEXT:    andl $-16, %esp # encoding: [0x83,0xe4,0xf0]
; X86-NEXT:    subl $48, %esp # encoding: [0x83,0xec,0x30]
; X86-NEXT:    movl 8(%ebp), %eax # encoding: [0x8b,0x45,0x08]
; X86-NEXT:    movl %eax, {{[-0-9]+}}(%e{{[sb]}}p) # 4-byte Spill
; X86-NEXT:    # encoding: [0x89,0x44,0x24,0x08]
; X86-NEXT:    movl %eax, {{[-0-9]+}}(%e{{[sb]}}p) # 4-byte Spill
; X86-NEXT:    # encoding: [0x89,0x44,0x24,0x0c]
; X86-NEXT:    movl 12(%ebp), %ecx # encoding: [0x8b,0x4d,0x0c]
; X86-NEXT:    movl %esp, %eax # encoding: [0x89,0xe0]
; X86-NEXT:    movl %ecx, 4(%eax) # encoding: [0x89,0x48,0x04]
; X86-NEXT:    leal {{[0-9]+}}(%esp), %ecx # encoding: [0x8d,0x4c,0x24,0x10]
; X86-NEXT:    movl %ecx, (%eax) # encoding: [0x89,0x08]
; X86-NEXT:    calll llvm.x86.vbcstnebf162ps128@PLT # encoding: [0xe8,A,A,A,A]
; X86-NEXT:    # fixup A - offset: 1, value: llvm.x86.vbcstnebf162ps128@PLT-4, kind: FK_PCRel_4
; X86-NEXT:    subl $4, %esp # encoding: [0x83,0xec,0x04]
; X86-NEXT:    movl {{[-0-9]+}}(%e{{[sb]}}p), %ecx # 4-byte Reload
; X86-NEXT:    # encoding: [0x8b,0x4c,0x24,0x08]
; X86-NEXT:    movl {{[-0-9]+}}(%e{{[sb]}}p), %eax # 4-byte Reload
; X86-NEXT:    # encoding: [0x8b,0x44,0x24,0x0c]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x10]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x14]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x18]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x1c]
; X86-NEXT:    fstps 12(%ecx) # encoding: [0xd9,0x59,0x0c]
; X86-NEXT:    fstps 8(%ecx) # encoding: [0xd9,0x59,0x08]
; X86-NEXT:    fstps 4(%ecx) # encoding: [0xd9,0x59,0x04]
; X86-NEXT:    fstps (%ecx) # encoding: [0xd9,0x19]
; X86-NEXT:    movl %ebp, %esp # encoding: [0x89,0xec]
; X86-NEXT:    popl %ebp # encoding: [0x5d]
; X86-NEXT:    .cfi_def_cfa %esp, 4
; X86-NEXT:    retl $4 # encoding: [0xc2,0x04,0x00]
  %ret = call <4 x float> @llvm.x86.vbcstnebf162ps128(ptr %A)
  ret <4 x float> %ret
}
declare <4 x float> @llvm.x86.vbcstnebf162ps128(ptr %A)

define <8 x float> @test_int_x86_vbcstnebf162ps256(ptr %A) {
; X64-LABEL: test_int_x86_vbcstnebf162ps256:
; X64:       # %bb.0:
; X64-NEXT:    pushq %rax # encoding: [0x50]
; X64-NEXT:    .cfi_def_cfa_offset 16
; X64-NEXT:    callq llvm.x86.vbcstnebf162ps256@PLT # encoding: [0xe8,A,A,A,A]
; X64-NEXT:    # fixup A - offset: 1, value: llvm.x86.vbcstnebf162ps256@PLT-4, kind: FK_PCRel_4
; X64-NEXT:    popq %rax # encoding: [0x58]
; X64-NEXT:    .cfi_def_cfa_offset 8
; X64-NEXT:    retq # encoding: [0xc3]
;
; X86-LABEL: test_int_x86_vbcstnebf162ps256:
; X86:       # %bb.0:
; X86-NEXT:    pushl %ebp # encoding: [0x55]
; X86-NEXT:    .cfi_def_cfa_offset 8
; X86-NEXT:    .cfi_offset %ebp, -8
; X86-NEXT:    movl %esp, %ebp # encoding: [0x89,0xe5]
; X86-NEXT:    .cfi_def_cfa_register %ebp
; X86-NEXT:    andl $-32, %esp # encoding: [0x83,0xe4,0xe0]
; X86-NEXT:    subl $96, %esp # encoding: [0x83,0xec,0x60]
; X86-NEXT:    movl 8(%ebp), %eax # encoding: [0x8b,0x45,0x08]
; X86-NEXT:    movl %eax, {{[-0-9]+}}(%e{{[sb]}}p) # 4-byte Spill
; X86-NEXT:    # encoding: [0x89,0x44,0x24,0x14]
; X86-NEXT:    movl %eax, {{[-0-9]+}}(%e{{[sb]}}p) # 4-byte Spill
; X86-NEXT:    # encoding: [0x89,0x44,0x24,0x18]
; X86-NEXT:    movl 12(%ebp), %ecx # encoding: [0x8b,0x4d,0x0c]
; X86-NEXT:    movl %esp, %eax # encoding: [0x89,0xe0]
; X86-NEXT:    movl %ecx, 4(%eax) # encoding: [0x89,0x48,0x04]
; X86-NEXT:    leal {{[0-9]+}}(%esp), %ecx # encoding: [0x8d,0x4c,0x24,0x20]
; X86-NEXT:    movl %ecx, (%eax) # encoding: [0x89,0x08]
; X86-NEXT:    calll llvm.x86.vbcstnebf162ps256@PLT # encoding: [0xe8,A,A,A,A]
; X86-NEXT:    # fixup A - offset: 1, value: llvm.x86.vbcstnebf162ps256@PLT-4, kind: FK_PCRel_4
; X86-NEXT:    subl $4, %esp # encoding: [0x83,0xec,0x04]
; X86-NEXT:    movl {{[-0-9]+}}(%e{{[sb]}}p), %ecx # 4-byte Reload
; X86-NEXT:    # encoding: [0x8b,0x4c,0x24,0x14]
; X86-NEXT:    movl {{[-0-9]+}}(%e{{[sb]}}p), %eax # 4-byte Reload
; X86-NEXT:    # encoding: [0x8b,0x44,0x24,0x18]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x20]
; X86-NEXT:    fstps {{[-0-9]+}}(%e{{[sb]}}p) # 4-byte Folded Spill
; X86-NEXT:    # encoding: [0xd9,0x5c,0x24,0x1c]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x24]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x28]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x2c]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x30]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x34]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x38]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x3c]
; X86-NEXT:    fstps 28(%ecx) # encoding: [0xd9,0x59,0x1c]
; X86-NEXT:    flds {{[-0-9]+}}(%e{{[sb]}}p) # 4-byte Folded Reload
; X86-NEXT:    # encoding: [0xd9,0x44,0x24,0x1c]
; X86-NEXT:    fxch %st(1) # encoding: [0xd9,0xc9]
; X86-NEXT:    fstps 24(%ecx) # encoding: [0xd9,0x59,0x18]
; X86-NEXT:    fxch %st(1) # encoding: [0xd9,0xc9]
; X86-NEXT:    fstps 20(%ecx) # encoding: [0xd9,0x59,0x14]
; X86-NEXT:    fxch %st(1) # encoding: [0xd9,0xc9]
; X86-NEXT:    fstps 16(%ecx) # encoding: [0xd9,0x59,0x10]
; X86-NEXT:    fxch %st(1) # encoding: [0xd9,0xc9]
; X86-NEXT:    fstps 12(%ecx) # encoding: [0xd9,0x59,0x0c]
; X86-NEXT:    fxch %st(1) # encoding: [0xd9,0xc9]
; X86-NEXT:    fstps 8(%ecx) # encoding: [0xd9,0x59,0x08]
; X86-NEXT:    fxch %st(1) # encoding: [0xd9,0xc9]
; X86-NEXT:    fstps 4(%ecx) # encoding: [0xd9,0x59,0x04]
; X86-NEXT:    fstps (%ecx) # encoding: [0xd9,0x19]
; X86-NEXT:    movl %ebp, %esp # encoding: [0x89,0xec]
; X86-NEXT:    popl %ebp # encoding: [0x5d]
; X86-NEXT:    .cfi_def_cfa %esp, 4
; X86-NEXT:    retl $4 # encoding: [0xc2,0x04,0x00]
  %ret = call <8 x float> @llvm.x86.vbcstnebf162ps256(ptr %A)
  ret <8 x float> %ret
}
declare <8 x float> @llvm.x86.vbcstnebf162ps256(ptr %A)

define <4 x float> @test_int_x86_vbcstnesh2ps128(ptr %A) {
; X64-LABEL: test_int_x86_vbcstnesh2ps128:
; X64:       # %bb.0:
; X64-NEXT:    pushq %rax # encoding: [0x50]
; X64-NEXT:    .cfi_def_cfa_offset 16
; X64-NEXT:    callq llvm.x86.vbcstnesh2ps128@PLT # encoding: [0xe8,A,A,A,A]
; X64-NEXT:    # fixup A - offset: 1, value: llvm.x86.vbcstnesh2ps128@PLT-4, kind: FK_PCRel_4
; X64-NEXT:    popq %rax # encoding: [0x58]
; X64-NEXT:    .cfi_def_cfa_offset 8
; X64-NEXT:    retq # encoding: [0xc3]
;
; X86-LABEL: test_int_x86_vbcstnesh2ps128:
; X86:       # %bb.0:
; X86-NEXT:    pushl %ebp # encoding: [0x55]
; X86-NEXT:    .cfi_def_cfa_offset 8
; X86-NEXT:    .cfi_offset %ebp, -8
; X86-NEXT:    movl %esp, %ebp # encoding: [0x89,0xe5]
; X86-NEXT:    .cfi_def_cfa_register %ebp
; X86-NEXT:    andl $-16, %esp # encoding: [0x83,0xe4,0xf0]
; X86-NEXT:    subl $48, %esp # encoding: [0x83,0xec,0x30]
; X86-NEXT:    movl 8(%ebp), %eax # encoding: [0x8b,0x45,0x08]
; X86-NEXT:    movl %eax, {{[-0-9]+}}(%e{{[sb]}}p) # 4-byte Spill
; X86-NEXT:    # encoding: [0x89,0x44,0x24,0x08]
; X86-NEXT:    movl %eax, {{[-0-9]+}}(%e{{[sb]}}p) # 4-byte Spill
; X86-NEXT:    # encoding: [0x89,0x44,0x24,0x0c]
; X86-NEXT:    movl 12(%ebp), %ecx # encoding: [0x8b,0x4d,0x0c]
; X86-NEXT:    movl %esp, %eax # encoding: [0x89,0xe0]
; X86-NEXT:    movl %ecx, 4(%eax) # encoding: [0x89,0x48,0x04]
; X86-NEXT:    leal {{[0-9]+}}(%esp), %ecx # encoding: [0x8d,0x4c,0x24,0x10]
; X86-NEXT:    movl %ecx, (%eax) # encoding: [0x89,0x08]
; X86-NEXT:    calll llvm.x86.vbcstnesh2ps128@PLT # encoding: [0xe8,A,A,A,A]
; X86-NEXT:    # fixup A - offset: 1, value: llvm.x86.vbcstnesh2ps128@PLT-4, kind: FK_PCRel_4
; X86-NEXT:    subl $4, %esp # encoding: [0x83,0xec,0x04]
; X86-NEXT:    movl {{[-0-9]+}}(%e{{[sb]}}p), %ecx # 4-byte Reload
; X86-NEXT:    # encoding: [0x8b,0x4c,0x24,0x08]
; X86-NEXT:    movl {{[-0-9]+}}(%e{{[sb]}}p), %eax # 4-byte Reload
; X86-NEXT:    # encoding: [0x8b,0x44,0x24,0x0c]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x10]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x14]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x18]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x1c]
; X86-NEXT:    fstps 12(%ecx) # encoding: [0xd9,0x59,0x0c]
; X86-NEXT:    fstps 8(%ecx) # encoding: [0xd9,0x59,0x08]
; X86-NEXT:    fstps 4(%ecx) # encoding: [0xd9,0x59,0x04]
; X86-NEXT:    fstps (%ecx) # encoding: [0xd9,0x19]
; X86-NEXT:    movl %ebp, %esp # encoding: [0x89,0xec]
; X86-NEXT:    popl %ebp # encoding: [0x5d]
; X86-NEXT:    .cfi_def_cfa %esp, 4
; X86-NEXT:    retl $4 # encoding: [0xc2,0x04,0x00]
  %ret = call <4 x float> @llvm.x86.vbcstnesh2ps128(ptr %A)
  ret <4 x float> %ret
}
declare <4 x float> @llvm.x86.vbcstnesh2ps128(ptr %A)

define <8 x float> @test_int_x86_vbcstnesh2ps256(ptr %A) {
; X64-LABEL: test_int_x86_vbcstnesh2ps256:
; X64:       # %bb.0:
; X64-NEXT:    pushq %rax # encoding: [0x50]
; X64-NEXT:    .cfi_def_cfa_offset 16
; X64-NEXT:    callq llvm.x86.vbcstnesh2ps256@PLT # encoding: [0xe8,A,A,A,A]
; X64-NEXT:    # fixup A - offset: 1, value: llvm.x86.vbcstnesh2ps256@PLT-4, kind: FK_PCRel_4
; X64-NEXT:    popq %rax # encoding: [0x58]
; X64-NEXT:    .cfi_def_cfa_offset 8
; X64-NEXT:    retq # encoding: [0xc3]
;
; X86-LABEL: test_int_x86_vbcstnesh2ps256:
; X86:       # %bb.0:
; X86-NEXT:    pushl %ebp # encoding: [0x55]
; X86-NEXT:    .cfi_def_cfa_offset 8
; X86-NEXT:    .cfi_offset %ebp, -8
; X86-NEXT:    movl %esp, %ebp # encoding: [0x89,0xe5]
; X86-NEXT:    .cfi_def_cfa_register %ebp
; X86-NEXT:    andl $-32, %esp # encoding: [0x83,0xe4,0xe0]
; X86-NEXT:    subl $96, %esp # encoding: [0x83,0xec,0x60]
; X86-NEXT:    movl 8(%ebp), %eax # encoding: [0x8b,0x45,0x08]
; X86-NEXT:    movl %eax, {{[-0-9]+}}(%e{{[sb]}}p) # 4-byte Spill
; X86-NEXT:    # encoding: [0x89,0x44,0x24,0x14]
; X86-NEXT:    movl %eax, {{[-0-9]+}}(%e{{[sb]}}p) # 4-byte Spill
; X86-NEXT:    # encoding: [0x89,0x44,0x24,0x18]
; X86-NEXT:    movl 12(%ebp), %ecx # encoding: [0x8b,0x4d,0x0c]
; X86-NEXT:    movl %esp, %eax # encoding: [0x89,0xe0]
; X86-NEXT:    movl %ecx, 4(%eax) # encoding: [0x89,0x48,0x04]
; X86-NEXT:    leal {{[0-9]+}}(%esp), %ecx # encoding: [0x8d,0x4c,0x24,0x20]
; X86-NEXT:    movl %ecx, (%eax) # encoding: [0x89,0x08]
; X86-NEXT:    calll llvm.x86.vbcstnesh2ps256@PLT # encoding: [0xe8,A,A,A,A]
; X86-NEXT:    # fixup A - offset: 1, value: llvm.x86.vbcstnesh2ps256@PLT-4, kind: FK_PCRel_4
; X86-NEXT:    subl $4, %esp # encoding: [0x83,0xec,0x04]
; X86-NEXT:    movl {{[-0-9]+}}(%e{{[sb]}}p), %ecx # 4-byte Reload
; X86-NEXT:    # encoding: [0x8b,0x4c,0x24,0x14]
; X86-NEXT:    movl {{[-0-9]+}}(%e{{[sb]}}p), %eax # 4-byte Reload
; X86-NEXT:    # encoding: [0x8b,0x44,0x24,0x18]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x20]
; X86-NEXT:    fstps {{[-0-9]+}}(%e{{[sb]}}p) # 4-byte Folded Spill
; X86-NEXT:    # encoding: [0xd9,0x5c,0x24,0x1c]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x24]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x28]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x2c]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x30]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x34]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x38]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x3c]
; X86-NEXT:    fstps 28(%ecx) # encoding: [0xd9,0x59,0x1c]
; X86-NEXT:    flds {{[-0-9]+}}(%e{{[sb]}}p) # 4-byte Folded Reload
; X86-NEXT:    # encoding: [0xd9,0x44,0x24,0x1c]
; X86-NEXT:    fxch %st(1) # encoding: [0xd9,0xc9]
; X86-NEXT:    fstps 24(%ecx) # encoding: [0xd9,0x59,0x18]
; X86-NEXT:    fxch %st(1) # encoding: [0xd9,0xc9]
; X86-NEXT:    fstps 20(%ecx) # encoding: [0xd9,0x59,0x14]
; X86-NEXT:    fxch %st(1) # encoding: [0xd9,0xc9]
; X86-NEXT:    fstps 16(%ecx) # encoding: [0xd9,0x59,0x10]
; X86-NEXT:    fxch %st(1) # encoding: [0xd9,0xc9]
; X86-NEXT:    fstps 12(%ecx) # encoding: [0xd9,0x59,0x0c]
; X86-NEXT:    fxch %st(1) # encoding: [0xd9,0xc9]
; X86-NEXT:    fstps 8(%ecx) # encoding: [0xd9,0x59,0x08]
; X86-NEXT:    fxch %st(1) # encoding: [0xd9,0xc9]
; X86-NEXT:    fstps 4(%ecx) # encoding: [0xd9,0x59,0x04]
; X86-NEXT:    fstps (%ecx) # encoding: [0xd9,0x19]
; X86-NEXT:    movl %ebp, %esp # encoding: [0x89,0xec]
; X86-NEXT:    popl %ebp # encoding: [0x5d]
; X86-NEXT:    .cfi_def_cfa %esp, 4
; X86-NEXT:    retl $4 # encoding: [0xc2,0x04,0x00]
  %ret = call <8 x float> @llvm.x86.vbcstnesh2ps256(ptr %A)
  ret <8 x float> %ret
}
declare <8 x float> @llvm.x86.vbcstnesh2ps256(ptr %A)

define <4 x float> @test_int_x86_vcvtneebf162ps128(ptr %A) {
; X64-LABEL: test_int_x86_vcvtneebf162ps128:
; X64:       # %bb.0:
; X64-NEXT:    pushq %rax # encoding: [0x50]
; X64-NEXT:    .cfi_def_cfa_offset 16
; X64-NEXT:    callq llvm.x86.vcvtneebf162ps128@PLT # encoding: [0xe8,A,A,A,A]
; X64-NEXT:    # fixup A - offset: 1, value: llvm.x86.vcvtneebf162ps128@PLT-4, kind: FK_PCRel_4
; X64-NEXT:    popq %rax # encoding: [0x58]
; X64-NEXT:    .cfi_def_cfa_offset 8
; X64-NEXT:    retq # encoding: [0xc3]
;
; X86-LABEL: test_int_x86_vcvtneebf162ps128:
; X86:       # %bb.0:
; X86-NEXT:    pushl %ebp # encoding: [0x55]
; X86-NEXT:    .cfi_def_cfa_offset 8
; X86-NEXT:    .cfi_offset %ebp, -8
; X86-NEXT:    movl %esp, %ebp # encoding: [0x89,0xe5]
; X86-NEXT:    .cfi_def_cfa_register %ebp
; X86-NEXT:    andl $-16, %esp # encoding: [0x83,0xe4,0xf0]
; X86-NEXT:    subl $48, %esp # encoding: [0x83,0xec,0x30]
; X86-NEXT:    movl 8(%ebp), %eax # encoding: [0x8b,0x45,0x08]
; X86-NEXT:    movl %eax, {{[-0-9]+}}(%e{{[sb]}}p) # 4-byte Spill
; X86-NEXT:    # encoding: [0x89,0x44,0x24,0x08]
; X86-NEXT:    movl %eax, {{[-0-9]+}}(%e{{[sb]}}p) # 4-byte Spill
; X86-NEXT:    # encoding: [0x89,0x44,0x24,0x0c]
; X86-NEXT:    movl 12(%ebp), %ecx # encoding: [0x8b,0x4d,0x0c]
; X86-NEXT:    movl %esp, %eax # encoding: [0x89,0xe0]
; X86-NEXT:    movl %ecx, 4(%eax) # encoding: [0x89,0x48,0x04]
; X86-NEXT:    leal {{[0-9]+}}(%esp), %ecx # encoding: [0x8d,0x4c,0x24,0x10]
; X86-NEXT:    movl %ecx, (%eax) # encoding: [0x89,0x08]
; X86-NEXT:    calll llvm.x86.vcvtneebf162ps128@PLT # encoding: [0xe8,A,A,A,A]
; X86-NEXT:    # fixup A - offset: 1, value: llvm.x86.vcvtneebf162ps128@PLT-4, kind: FK_PCRel_4
; X86-NEXT:    subl $4, %esp # encoding: [0x83,0xec,0x04]
; X86-NEXT:    movl {{[-0-9]+}}(%e{{[sb]}}p), %ecx # 4-byte Reload
; X86-NEXT:    # encoding: [0x8b,0x4c,0x24,0x08]
; X86-NEXT:    movl {{[-0-9]+}}(%e{{[sb]}}p), %eax # 4-byte Reload
; X86-NEXT:    # encoding: [0x8b,0x44,0x24,0x0c]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x10]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x14]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x18]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x1c]
; X86-NEXT:    fstps 12(%ecx) # encoding: [0xd9,0x59,0x0c]
; X86-NEXT:    fstps 8(%ecx) # encoding: [0xd9,0x59,0x08]
; X86-NEXT:    fstps 4(%ecx) # encoding: [0xd9,0x59,0x04]
; X86-NEXT:    fstps (%ecx) # encoding: [0xd9,0x19]
; X86-NEXT:    movl %ebp, %esp # encoding: [0x89,0xec]
; X86-NEXT:    popl %ebp # encoding: [0x5d]
; X86-NEXT:    .cfi_def_cfa %esp, 4
; X86-NEXT:    retl $4 # encoding: [0xc2,0x04,0x00]
  %ret = call <4 x float> @llvm.x86.vcvtneebf162ps128(ptr %A)
  ret <4 x float> %ret
}
declare <4 x float> @llvm.x86.vcvtneebf162ps128(ptr %A)

define <8 x float> @test_int_x86_vcvtneebf162ps256(ptr %A) {
; X64-LABEL: test_int_x86_vcvtneebf162ps256:
; X64:       # %bb.0:
; X64-NEXT:    pushq %rax # encoding: [0x50]
; X64-NEXT:    .cfi_def_cfa_offset 16
; X64-NEXT:    callq llvm.x86.vcvtneebf162ps256@PLT # encoding: [0xe8,A,A,A,A]
; X64-NEXT:    # fixup A - offset: 1, value: llvm.x86.vcvtneebf162ps256@PLT-4, kind: FK_PCRel_4
; X64-NEXT:    popq %rax # encoding: [0x58]
; X64-NEXT:    .cfi_def_cfa_offset 8
; X64-NEXT:    retq # encoding: [0xc3]
;
; X86-LABEL: test_int_x86_vcvtneebf162ps256:
; X86:       # %bb.0:
; X86-NEXT:    pushl %ebp # encoding: [0x55]
; X86-NEXT:    .cfi_def_cfa_offset 8
; X86-NEXT:    .cfi_offset %ebp, -8
; X86-NEXT:    movl %esp, %ebp # encoding: [0x89,0xe5]
; X86-NEXT:    .cfi_def_cfa_register %ebp
; X86-NEXT:    andl $-32, %esp # encoding: [0x83,0xe4,0xe0]
; X86-NEXT:    subl $96, %esp # encoding: [0x83,0xec,0x60]
; X86-NEXT:    movl 8(%ebp), %eax # encoding: [0x8b,0x45,0x08]
; X86-NEXT:    movl %eax, {{[-0-9]+}}(%e{{[sb]}}p) # 4-byte Spill
; X86-NEXT:    # encoding: [0x89,0x44,0x24,0x14]
; X86-NEXT:    movl %eax, {{[-0-9]+}}(%e{{[sb]}}p) # 4-byte Spill
; X86-NEXT:    # encoding: [0x89,0x44,0x24,0x18]
; X86-NEXT:    movl 12(%ebp), %ecx # encoding: [0x8b,0x4d,0x0c]
; X86-NEXT:    movl %esp, %eax # encoding: [0x89,0xe0]
; X86-NEXT:    movl %ecx, 4(%eax) # encoding: [0x89,0x48,0x04]
; X86-NEXT:    leal {{[0-9]+}}(%esp), %ecx # encoding: [0x8d,0x4c,0x24,0x20]
; X86-NEXT:    movl %ecx, (%eax) # encoding: [0x89,0x08]
; X86-NEXT:    calll llvm.x86.vcvtneebf162ps256@PLT # encoding: [0xe8,A,A,A,A]
; X86-NEXT:    # fixup A - offset: 1, value: llvm.x86.vcvtneebf162ps256@PLT-4, kind: FK_PCRel_4
; X86-NEXT:    subl $4, %esp # encoding: [0x83,0xec,0x04]
; X86-NEXT:    movl {{[-0-9]+}}(%e{{[sb]}}p), %ecx # 4-byte Reload
; X86-NEXT:    # encoding: [0x8b,0x4c,0x24,0x14]
; X86-NEXT:    movl {{[-0-9]+}}(%e{{[sb]}}p), %eax # 4-byte Reload
; X86-NEXT:    # encoding: [0x8b,0x44,0x24,0x18]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x20]
; X86-NEXT:    fstps {{[-0-9]+}}(%e{{[sb]}}p) # 4-byte Folded Spill
; X86-NEXT:    # encoding: [0xd9,0x5c,0x24,0x1c]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x24]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x28]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x2c]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x30]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x34]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x38]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x3c]
; X86-NEXT:    fstps 28(%ecx) # encoding: [0xd9,0x59,0x1c]
; X86-NEXT:    flds {{[-0-9]+}}(%e{{[sb]}}p) # 4-byte Folded Reload
; X86-NEXT:    # encoding: [0xd9,0x44,0x24,0x1c]
; X86-NEXT:    fxch %st(1) # encoding: [0xd9,0xc9]
; X86-NEXT:    fstps 24(%ecx) # encoding: [0xd9,0x59,0x18]
; X86-NEXT:    fxch %st(1) # encoding: [0xd9,0xc9]
; X86-NEXT:    fstps 20(%ecx) # encoding: [0xd9,0x59,0x14]
; X86-NEXT:    fxch %st(1) # encoding: [0xd9,0xc9]
; X86-NEXT:    fstps 16(%ecx) # encoding: [0xd9,0x59,0x10]
; X86-NEXT:    fxch %st(1) # encoding: [0xd9,0xc9]
; X86-NEXT:    fstps 12(%ecx) # encoding: [0xd9,0x59,0x0c]
; X86-NEXT:    fxch %st(1) # encoding: [0xd9,0xc9]
; X86-NEXT:    fstps 8(%ecx) # encoding: [0xd9,0x59,0x08]
; X86-NEXT:    fxch %st(1) # encoding: [0xd9,0xc9]
; X86-NEXT:    fstps 4(%ecx) # encoding: [0xd9,0x59,0x04]
; X86-NEXT:    fstps (%ecx) # encoding: [0xd9,0x19]
; X86-NEXT:    movl %ebp, %esp # encoding: [0x89,0xec]
; X86-NEXT:    popl %ebp # encoding: [0x5d]
; X86-NEXT:    .cfi_def_cfa %esp, 4
; X86-NEXT:    retl $4 # encoding: [0xc2,0x04,0x00]
  %ret = call <8 x float> @llvm.x86.vcvtneebf162ps256(ptr %A)
  ret <8 x float> %ret
}
declare <8 x float> @llvm.x86.vcvtneebf162ps256(ptr %A)

define <4 x float> @test_int_x86_vcvtneeph2ps128(ptr %A) {
; X64-LABEL: test_int_x86_vcvtneeph2ps128:
; X64:       # %bb.0:
; X64-NEXT:    pushq %rax # encoding: [0x50]
; X64-NEXT:    .cfi_def_cfa_offset 16
; X64-NEXT:    callq llvm.x86.vcvtneeph2ps128@PLT # encoding: [0xe8,A,A,A,A]
; X64-NEXT:    # fixup A - offset: 1, value: llvm.x86.vcvtneeph2ps128@PLT-4, kind: FK_PCRel_4
; X64-NEXT:    popq %rax # encoding: [0x58]
; X64-NEXT:    .cfi_def_cfa_offset 8
; X64-NEXT:    retq # encoding: [0xc3]
;
; X86-LABEL: test_int_x86_vcvtneeph2ps128:
; X86:       # %bb.0:
; X86-NEXT:    pushl %ebp # encoding: [0x55]
; X86-NEXT:    .cfi_def_cfa_offset 8
; X86-NEXT:    .cfi_offset %ebp, -8
; X86-NEXT:    movl %esp, %ebp # encoding: [0x89,0xe5]
; X86-NEXT:    .cfi_def_cfa_register %ebp
; X86-NEXT:    andl $-16, %esp # encoding: [0x83,0xe4,0xf0]
; X86-NEXT:    subl $48, %esp # encoding: [0x83,0xec,0x30]
; X86-NEXT:    movl 8(%ebp), %eax # encoding: [0x8b,0x45,0x08]
; X86-NEXT:    movl %eax, {{[-0-9]+}}(%e{{[sb]}}p) # 4-byte Spill
; X86-NEXT:    # encoding: [0x89,0x44,0x24,0x08]
; X86-NEXT:    movl %eax, {{[-0-9]+}}(%e{{[sb]}}p) # 4-byte Spill
; X86-NEXT:    # encoding: [0x89,0x44,0x24,0x0c]
; X86-NEXT:    movl 12(%ebp), %ecx # encoding: [0x8b,0x4d,0x0c]
; X86-NEXT:    movl %esp, %eax # encoding: [0x89,0xe0]
; X86-NEXT:    movl %ecx, 4(%eax) # encoding: [0x89,0x48,0x04]
; X86-NEXT:    leal {{[0-9]+}}(%esp), %ecx # encoding: [0x8d,0x4c,0x24,0x10]
; X86-NEXT:    movl %ecx, (%eax) # encoding: [0x89,0x08]
; X86-NEXT:    calll llvm.x86.vcvtneeph2ps128@PLT # encoding: [0xe8,A,A,A,A]
; X86-NEXT:    # fixup A - offset: 1, value: llvm.x86.vcvtneeph2ps128@PLT-4, kind: FK_PCRel_4
; X86-NEXT:    subl $4, %esp # encoding: [0x83,0xec,0x04]
; X86-NEXT:    movl {{[-0-9]+}}(%e{{[sb]}}p), %ecx # 4-byte Reload
; X86-NEXT:    # encoding: [0x8b,0x4c,0x24,0x08]
; X86-NEXT:    movl {{[-0-9]+}}(%e{{[sb]}}p), %eax # 4-byte Reload
; X86-NEXT:    # encoding: [0x8b,0x44,0x24,0x0c]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x10]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x14]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x18]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x1c]
; X86-NEXT:    fstps 12(%ecx) # encoding: [0xd9,0x59,0x0c]
; X86-NEXT:    fstps 8(%ecx) # encoding: [0xd9,0x59,0x08]
; X86-NEXT:    fstps 4(%ecx) # encoding: [0xd9,0x59,0x04]
; X86-NEXT:    fstps (%ecx) # encoding: [0xd9,0x19]
; X86-NEXT:    movl %ebp, %esp # encoding: [0x89,0xec]
; X86-NEXT:    popl %ebp # encoding: [0x5d]
; X86-NEXT:    .cfi_def_cfa %esp, 4
; X86-NEXT:    retl $4 # encoding: [0xc2,0x04,0x00]
  %ret = call <4 x float> @llvm.x86.vcvtneeph2ps128(ptr %A)
  ret <4 x float> %ret
}
declare <4 x float> @llvm.x86.vcvtneeph2ps128(ptr %A)

define <8 x float> @test_int_x86_vcvtneeph2ps256(ptr %A) {
; X64-LABEL: test_int_x86_vcvtneeph2ps256:
; X64:       # %bb.0:
; X64-NEXT:    pushq %rax # encoding: [0x50]
; X64-NEXT:    .cfi_def_cfa_offset 16
; X64-NEXT:    callq llvm.x86.vcvtneeph2ps256@PLT # encoding: [0xe8,A,A,A,A]
; X64-NEXT:    # fixup A - offset: 1, value: llvm.x86.vcvtneeph2ps256@PLT-4, kind: FK_PCRel_4
; X64-NEXT:    popq %rax # encoding: [0x58]
; X64-NEXT:    .cfi_def_cfa_offset 8
; X64-NEXT:    retq # encoding: [0xc3]
;
; X86-LABEL: test_int_x86_vcvtneeph2ps256:
; X86:       # %bb.0:
; X86-NEXT:    pushl %ebp # encoding: [0x55]
; X86-NEXT:    .cfi_def_cfa_offset 8
; X86-NEXT:    .cfi_offset %ebp, -8
; X86-NEXT:    movl %esp, %ebp # encoding: [0x89,0xe5]
; X86-NEXT:    .cfi_def_cfa_register %ebp
; X86-NEXT:    andl $-32, %esp # encoding: [0x83,0xe4,0xe0]
; X86-NEXT:    subl $96, %esp # encoding: [0x83,0xec,0x60]
; X86-NEXT:    movl 8(%ebp), %eax # encoding: [0x8b,0x45,0x08]
; X86-NEXT:    movl %eax, {{[-0-9]+}}(%e{{[sb]}}p) # 4-byte Spill
; X86-NEXT:    # encoding: [0x89,0x44,0x24,0x14]
; X86-NEXT:    movl %eax, {{[-0-9]+}}(%e{{[sb]}}p) # 4-byte Spill
; X86-NEXT:    # encoding: [0x89,0x44,0x24,0x18]
; X86-NEXT:    movl 12(%ebp), %ecx # encoding: [0x8b,0x4d,0x0c]
; X86-NEXT:    movl %esp, %eax # encoding: [0x89,0xe0]
; X86-NEXT:    movl %ecx, 4(%eax) # encoding: [0x89,0x48,0x04]
; X86-NEXT:    leal {{[0-9]+}}(%esp), %ecx # encoding: [0x8d,0x4c,0x24,0x20]
; X86-NEXT:    movl %ecx, (%eax) # encoding: [0x89,0x08]
; X86-NEXT:    calll llvm.x86.vcvtneeph2ps256@PLT # encoding: [0xe8,A,A,A,A]
; X86-NEXT:    # fixup A - offset: 1, value: llvm.x86.vcvtneeph2ps256@PLT-4, kind: FK_PCRel_4
; X86-NEXT:    subl $4, %esp # encoding: [0x83,0xec,0x04]
; X86-NEXT:    movl {{[-0-9]+}}(%e{{[sb]}}p), %ecx # 4-byte Reload
; X86-NEXT:    # encoding: [0x8b,0x4c,0x24,0x14]
; X86-NEXT:    movl {{[-0-9]+}}(%e{{[sb]}}p), %eax # 4-byte Reload
; X86-NEXT:    # encoding: [0x8b,0x44,0x24,0x18]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x20]
; X86-NEXT:    fstps {{[-0-9]+}}(%e{{[sb]}}p) # 4-byte Folded Spill
; X86-NEXT:    # encoding: [0xd9,0x5c,0x24,0x1c]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x24]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x28]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x2c]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x30]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x34]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x38]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x3c]
; X86-NEXT:    fstps 28(%ecx) # encoding: [0xd9,0x59,0x1c]
; X86-NEXT:    flds {{[-0-9]+}}(%e{{[sb]}}p) # 4-byte Folded Reload
; X86-NEXT:    # encoding: [0xd9,0x44,0x24,0x1c]
; X86-NEXT:    fxch %st(1) # encoding: [0xd9,0xc9]
; X86-NEXT:    fstps 24(%ecx) # encoding: [0xd9,0x59,0x18]
; X86-NEXT:    fxch %st(1) # encoding: [0xd9,0xc9]
; X86-NEXT:    fstps 20(%ecx) # encoding: [0xd9,0x59,0x14]
; X86-NEXT:    fxch %st(1) # encoding: [0xd9,0xc9]
; X86-NEXT:    fstps 16(%ecx) # encoding: [0xd9,0x59,0x10]
; X86-NEXT:    fxch %st(1) # encoding: [0xd9,0xc9]
; X86-NEXT:    fstps 12(%ecx) # encoding: [0xd9,0x59,0x0c]
; X86-NEXT:    fxch %st(1) # encoding: [0xd9,0xc9]
; X86-NEXT:    fstps 8(%ecx) # encoding: [0xd9,0x59,0x08]
; X86-NEXT:    fxch %st(1) # encoding: [0xd9,0xc9]
; X86-NEXT:    fstps 4(%ecx) # encoding: [0xd9,0x59,0x04]
; X86-NEXT:    fstps (%ecx) # encoding: [0xd9,0x19]
; X86-NEXT:    movl %ebp, %esp # encoding: [0x89,0xec]
; X86-NEXT:    popl %ebp # encoding: [0x5d]
; X86-NEXT:    .cfi_def_cfa %esp, 4
; X86-NEXT:    retl $4 # encoding: [0xc2,0x04,0x00]
  %ret = call <8 x float> @llvm.x86.vcvtneeph2ps256(ptr %A)
  ret <8 x float> %ret
}
declare <8 x float> @llvm.x86.vcvtneeph2ps256(ptr %A)

define <4 x float> @test_int_x86_vcvtneobf162ps128(ptr %A) {
; X64-LABEL: test_int_x86_vcvtneobf162ps128:
; X64:       # %bb.0:
; X64-NEXT:    pushq %rax # encoding: [0x50]
; X64-NEXT:    .cfi_def_cfa_offset 16
; X64-NEXT:    callq llvm.x86.vcvtneobf162ps128@PLT # encoding: [0xe8,A,A,A,A]
; X64-NEXT:    # fixup A - offset: 1, value: llvm.x86.vcvtneobf162ps128@PLT-4, kind: FK_PCRel_4
; X64-NEXT:    popq %rax # encoding: [0x58]
; X64-NEXT:    .cfi_def_cfa_offset 8
; X64-NEXT:    retq # encoding: [0xc3]
;
; X86-LABEL: test_int_x86_vcvtneobf162ps128:
; X86:       # %bb.0:
; X86-NEXT:    pushl %ebp # encoding: [0x55]
; X86-NEXT:    .cfi_def_cfa_offset 8
; X86-NEXT:    .cfi_offset %ebp, -8
; X86-NEXT:    movl %esp, %ebp # encoding: [0x89,0xe5]
; X86-NEXT:    .cfi_def_cfa_register %ebp
; X86-NEXT:    andl $-16, %esp # encoding: [0x83,0xe4,0xf0]
; X86-NEXT:    subl $48, %esp # encoding: [0x83,0xec,0x30]
; X86-NEXT:    movl 8(%ebp), %eax # encoding: [0x8b,0x45,0x08]
; X86-NEXT:    movl %eax, {{[-0-9]+}}(%e{{[sb]}}p) # 4-byte Spill
; X86-NEXT:    # encoding: [0x89,0x44,0x24,0x08]
; X86-NEXT:    movl %eax, {{[-0-9]+}}(%e{{[sb]}}p) # 4-byte Spill
; X86-NEXT:    # encoding: [0x89,0x44,0x24,0x0c]
; X86-NEXT:    movl 12(%ebp), %ecx # encoding: [0x8b,0x4d,0x0c]
; X86-NEXT:    movl %esp, %eax # encoding: [0x89,0xe0]
; X86-NEXT:    movl %ecx, 4(%eax) # encoding: [0x89,0x48,0x04]
; X86-NEXT:    leal {{[0-9]+}}(%esp), %ecx # encoding: [0x8d,0x4c,0x24,0x10]
; X86-NEXT:    movl %ecx, (%eax) # encoding: [0x89,0x08]
; X86-NEXT:    calll llvm.x86.vcvtneobf162ps128@PLT # encoding: [0xe8,A,A,A,A]
; X86-NEXT:    # fixup A - offset: 1, value: llvm.x86.vcvtneobf162ps128@PLT-4, kind: FK_PCRel_4
; X86-NEXT:    subl $4, %esp # encoding: [0x83,0xec,0x04]
; X86-NEXT:    movl {{[-0-9]+}}(%e{{[sb]}}p), %ecx # 4-byte Reload
; X86-NEXT:    # encoding: [0x8b,0x4c,0x24,0x08]
; X86-NEXT:    movl {{[-0-9]+}}(%e{{[sb]}}p), %eax # 4-byte Reload
; X86-NEXT:    # encoding: [0x8b,0x44,0x24,0x0c]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x10]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x14]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x18]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x1c]
; X86-NEXT:    fstps 12(%ecx) # encoding: [0xd9,0x59,0x0c]
; X86-NEXT:    fstps 8(%ecx) # encoding: [0xd9,0x59,0x08]
; X86-NEXT:    fstps 4(%ecx) # encoding: [0xd9,0x59,0x04]
; X86-NEXT:    fstps (%ecx) # encoding: [0xd9,0x19]
; X86-NEXT:    movl %ebp, %esp # encoding: [0x89,0xec]
; X86-NEXT:    popl %ebp # encoding: [0x5d]
; X86-NEXT:    .cfi_def_cfa %esp, 4
; X86-NEXT:    retl $4 # encoding: [0xc2,0x04,0x00]
  %ret = call <4 x float> @llvm.x86.vcvtneobf162ps128(ptr %A)
  ret <4 x float> %ret
}
declare <4 x float> @llvm.x86.vcvtneobf162ps128(ptr %A)

define <8 x float> @test_int_x86_vcvtneobf162ps256(ptr %A) {
; X64-LABEL: test_int_x86_vcvtneobf162ps256:
; X64:       # %bb.0:
; X64-NEXT:    pushq %rax # encoding: [0x50]
; X64-NEXT:    .cfi_def_cfa_offset 16
; X64-NEXT:    callq llvm.x86.vcvtneobf162ps256@PLT # encoding: [0xe8,A,A,A,A]
; X64-NEXT:    # fixup A - offset: 1, value: llvm.x86.vcvtneobf162ps256@PLT-4, kind: FK_PCRel_4
; X64-NEXT:    popq %rax # encoding: [0x58]
; X64-NEXT:    .cfi_def_cfa_offset 8
; X64-NEXT:    retq # encoding: [0xc3]
;
; X86-LABEL: test_int_x86_vcvtneobf162ps256:
; X86:       # %bb.0:
; X86-NEXT:    pushl %ebp # encoding: [0x55]
; X86-NEXT:    .cfi_def_cfa_offset 8
; X86-NEXT:    .cfi_offset %ebp, -8
; X86-NEXT:    movl %esp, %ebp # encoding: [0x89,0xe5]
; X86-NEXT:    .cfi_def_cfa_register %ebp
; X86-NEXT:    andl $-32, %esp # encoding: [0x83,0xe4,0xe0]
; X86-NEXT:    subl $96, %esp # encoding: [0x83,0xec,0x60]
; X86-NEXT:    movl 8(%ebp), %eax # encoding: [0x8b,0x45,0x08]
; X86-NEXT:    movl %eax, {{[-0-9]+}}(%e{{[sb]}}p) # 4-byte Spill
; X86-NEXT:    # encoding: [0x89,0x44,0x24,0x14]
; X86-NEXT:    movl %eax, {{[-0-9]+}}(%e{{[sb]}}p) # 4-byte Spill
; X86-NEXT:    # encoding: [0x89,0x44,0x24,0x18]
; X86-NEXT:    movl 12(%ebp), %ecx # encoding: [0x8b,0x4d,0x0c]
; X86-NEXT:    movl %esp, %eax # encoding: [0x89,0xe0]
; X86-NEXT:    movl %ecx, 4(%eax) # encoding: [0x89,0x48,0x04]
; X86-NEXT:    leal {{[0-9]+}}(%esp), %ecx # encoding: [0x8d,0x4c,0x24,0x20]
; X86-NEXT:    movl %ecx, (%eax) # encoding: [0x89,0x08]
; X86-NEXT:    calll llvm.x86.vcvtneobf162ps256@PLT # encoding: [0xe8,A,A,A,A]
; X86-NEXT:    # fixup A - offset: 1, value: llvm.x86.vcvtneobf162ps256@PLT-4, kind: FK_PCRel_4
; X86-NEXT:    subl $4, %esp # encoding: [0x83,0xec,0x04]
; X86-NEXT:    movl {{[-0-9]+}}(%e{{[sb]}}p), %ecx # 4-byte Reload
; X86-NEXT:    # encoding: [0x8b,0x4c,0x24,0x14]
; X86-NEXT:    movl {{[-0-9]+}}(%e{{[sb]}}p), %eax # 4-byte Reload
; X86-NEXT:    # encoding: [0x8b,0x44,0x24,0x18]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x20]
; X86-NEXT:    fstps {{[-0-9]+}}(%e{{[sb]}}p) # 4-byte Folded Spill
; X86-NEXT:    # encoding: [0xd9,0x5c,0x24,0x1c]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x24]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x28]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x2c]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x30]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x34]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x38]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x3c]
; X86-NEXT:    fstps 28(%ecx) # encoding: [0xd9,0x59,0x1c]
; X86-NEXT:    flds {{[-0-9]+}}(%e{{[sb]}}p) # 4-byte Folded Reload
; X86-NEXT:    # encoding: [0xd9,0x44,0x24,0x1c]
; X86-NEXT:    fxch %st(1) # encoding: [0xd9,0xc9]
; X86-NEXT:    fstps 24(%ecx) # encoding: [0xd9,0x59,0x18]
; X86-NEXT:    fxch %st(1) # encoding: [0xd9,0xc9]
; X86-NEXT:    fstps 20(%ecx) # encoding: [0xd9,0x59,0x14]
; X86-NEXT:    fxch %st(1) # encoding: [0xd9,0xc9]
; X86-NEXT:    fstps 16(%ecx) # encoding: [0xd9,0x59,0x10]
; X86-NEXT:    fxch %st(1) # encoding: [0xd9,0xc9]
; X86-NEXT:    fstps 12(%ecx) # encoding: [0xd9,0x59,0x0c]
; X86-NEXT:    fxch %st(1) # encoding: [0xd9,0xc9]
; X86-NEXT:    fstps 8(%ecx) # encoding: [0xd9,0x59,0x08]
; X86-NEXT:    fxch %st(1) # encoding: [0xd9,0xc9]
; X86-NEXT:    fstps 4(%ecx) # encoding: [0xd9,0x59,0x04]
; X86-NEXT:    fstps (%ecx) # encoding: [0xd9,0x19]
; X86-NEXT:    movl %ebp, %esp # encoding: [0x89,0xec]
; X86-NEXT:    popl %ebp # encoding: [0x5d]
; X86-NEXT:    .cfi_def_cfa %esp, 4
; X86-NEXT:    retl $4 # encoding: [0xc2,0x04,0x00]
  %ret = call <8 x float> @llvm.x86.vcvtneobf162ps256(ptr %A)
  ret <8 x float> %ret
}
declare <8 x float> @llvm.x86.vcvtneobf162ps256(ptr %A)

define <4 x float> @test_int_x86_vcvtneoph2ps128(ptr %A) {
; X64-LABEL: test_int_x86_vcvtneoph2ps128:
; X64:       # %bb.0:
; X64-NEXT:    pushq %rax # encoding: [0x50]
; X64-NEXT:    .cfi_def_cfa_offset 16
; X64-NEXT:    callq llvm.x86.vcvtneoph2ps128@PLT # encoding: [0xe8,A,A,A,A]
; X64-NEXT:    # fixup A - offset: 1, value: llvm.x86.vcvtneoph2ps128@PLT-4, kind: FK_PCRel_4
; X64-NEXT:    popq %rax # encoding: [0x58]
; X64-NEXT:    .cfi_def_cfa_offset 8
; X64-NEXT:    retq # encoding: [0xc3]
;
; X86-LABEL: test_int_x86_vcvtneoph2ps128:
; X86:       # %bb.0:
; X86-NEXT:    pushl %ebp # encoding: [0x55]
; X86-NEXT:    .cfi_def_cfa_offset 8
; X86-NEXT:    .cfi_offset %ebp, -8
; X86-NEXT:    movl %esp, %ebp # encoding: [0x89,0xe5]
; X86-NEXT:    .cfi_def_cfa_register %ebp
; X86-NEXT:    andl $-16, %esp # encoding: [0x83,0xe4,0xf0]
; X86-NEXT:    subl $48, %esp # encoding: [0x83,0xec,0x30]
; X86-NEXT:    movl 8(%ebp), %eax # encoding: [0x8b,0x45,0x08]
; X86-NEXT:    movl %eax, {{[-0-9]+}}(%e{{[sb]}}p) # 4-byte Spill
; X86-NEXT:    # encoding: [0x89,0x44,0x24,0x08]
; X86-NEXT:    movl %eax, {{[-0-9]+}}(%e{{[sb]}}p) # 4-byte Spill
; X86-NEXT:    # encoding: [0x89,0x44,0x24,0x0c]
; X86-NEXT:    movl 12(%ebp), %ecx # encoding: [0x8b,0x4d,0x0c]
; X86-NEXT:    movl %esp, %eax # encoding: [0x89,0xe0]
; X86-NEXT:    movl %ecx, 4(%eax) # encoding: [0x89,0x48,0x04]
; X86-NEXT:    leal {{[0-9]+}}(%esp), %ecx # encoding: [0x8d,0x4c,0x24,0x10]
; X86-NEXT:    movl %ecx, (%eax) # encoding: [0x89,0x08]
; X86-NEXT:    calll llvm.x86.vcvtneoph2ps128@PLT # encoding: [0xe8,A,A,A,A]
; X86-NEXT:    # fixup A - offset: 1, value: llvm.x86.vcvtneoph2ps128@PLT-4, kind: FK_PCRel_4
; X86-NEXT:    subl $4, %esp # encoding: [0x83,0xec,0x04]
; X86-NEXT:    movl {{[-0-9]+}}(%e{{[sb]}}p), %ecx # 4-byte Reload
; X86-NEXT:    # encoding: [0x8b,0x4c,0x24,0x08]
; X86-NEXT:    movl {{[-0-9]+}}(%e{{[sb]}}p), %eax # 4-byte Reload
; X86-NEXT:    # encoding: [0x8b,0x44,0x24,0x0c]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x10]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x14]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x18]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x1c]
; X86-NEXT:    fstps 12(%ecx) # encoding: [0xd9,0x59,0x0c]
; X86-NEXT:    fstps 8(%ecx) # encoding: [0xd9,0x59,0x08]
; X86-NEXT:    fstps 4(%ecx) # encoding: [0xd9,0x59,0x04]
; X86-NEXT:    fstps (%ecx) # encoding: [0xd9,0x19]
; X86-NEXT:    movl %ebp, %esp # encoding: [0x89,0xec]
; X86-NEXT:    popl %ebp # encoding: [0x5d]
; X86-NEXT:    .cfi_def_cfa %esp, 4
; X86-NEXT:    retl $4 # encoding: [0xc2,0x04,0x00]
  %ret = call <4 x float> @llvm.x86.vcvtneoph2ps128(ptr %A)
  ret <4 x float> %ret
}
declare <4 x float> @llvm.x86.vcvtneoph2ps128(ptr %A)

define <8 x float> @test_int_x86_vcvtneoph2ps256(ptr %A) {
; X64-LABEL: test_int_x86_vcvtneoph2ps256:
; X64:       # %bb.0:
; X64-NEXT:    pushq %rax # encoding: [0x50]
; X64-NEXT:    .cfi_def_cfa_offset 16
; X64-NEXT:    callq llvm.x86.vcvtneoph2ps256@PLT # encoding: [0xe8,A,A,A,A]
; X64-NEXT:    # fixup A - offset: 1, value: llvm.x86.vcvtneoph2ps256@PLT-4, kind: FK_PCRel_4
; X64-NEXT:    popq %rax # encoding: [0x58]
; X64-NEXT:    .cfi_def_cfa_offset 8
; X64-NEXT:    retq # encoding: [0xc3]
;
; X86-LABEL: test_int_x86_vcvtneoph2ps256:
; X86:       # %bb.0:
; X86-NEXT:    pushl %ebp # encoding: [0x55]
; X86-NEXT:    .cfi_def_cfa_offset 8
; X86-NEXT:    .cfi_offset %ebp, -8
; X86-NEXT:    movl %esp, %ebp # encoding: [0x89,0xe5]
; X86-NEXT:    .cfi_def_cfa_register %ebp
; X86-NEXT:    andl $-32, %esp # encoding: [0x83,0xe4,0xe0]
; X86-NEXT:    subl $96, %esp # encoding: [0x83,0xec,0x60]
; X86-NEXT:    movl 8(%ebp), %eax # encoding: [0x8b,0x45,0x08]
; X86-NEXT:    movl %eax, {{[-0-9]+}}(%e{{[sb]}}p) # 4-byte Spill
; X86-NEXT:    # encoding: [0x89,0x44,0x24,0x14]
; X86-NEXT:    movl %eax, {{[-0-9]+}}(%e{{[sb]}}p) # 4-byte Spill
; X86-NEXT:    # encoding: [0x89,0x44,0x24,0x18]
; X86-NEXT:    movl 12(%ebp), %ecx # encoding: [0x8b,0x4d,0x0c]
; X86-NEXT:    movl %esp, %eax # encoding: [0x89,0xe0]
; X86-NEXT:    movl %ecx, 4(%eax) # encoding: [0x89,0x48,0x04]
; X86-NEXT:    leal {{[0-9]+}}(%esp), %ecx # encoding: [0x8d,0x4c,0x24,0x20]
; X86-NEXT:    movl %ecx, (%eax) # encoding: [0x89,0x08]
; X86-NEXT:    calll llvm.x86.vcvtneoph2ps256@PLT # encoding: [0xe8,A,A,A,A]
; X86-NEXT:    # fixup A - offset: 1, value: llvm.x86.vcvtneoph2ps256@PLT-4, kind: FK_PCRel_4
; X86-NEXT:    subl $4, %esp # encoding: [0x83,0xec,0x04]
; X86-NEXT:    movl {{[-0-9]+}}(%e{{[sb]}}p), %ecx # 4-byte Reload
; X86-NEXT:    # encoding: [0x8b,0x4c,0x24,0x14]
; X86-NEXT:    movl {{[-0-9]+}}(%e{{[sb]}}p), %eax # 4-byte Reload
; X86-NEXT:    # encoding: [0x8b,0x44,0x24,0x18]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x20]
; X86-NEXT:    fstps {{[-0-9]+}}(%e{{[sb]}}p) # 4-byte Folded Spill
; X86-NEXT:    # encoding: [0xd9,0x5c,0x24,0x1c]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x24]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x28]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x2c]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x30]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x34]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x38]
; X86-NEXT:    flds {{[0-9]+}}(%esp) # encoding: [0xd9,0x44,0x24,0x3c]
; X86-NEXT:    fstps 28(%ecx) # encoding: [0xd9,0x59,0x1c]
; X86-NEXT:    flds {{[-0-9]+}}(%e{{[sb]}}p) # 4-byte Folded Reload
; X86-NEXT:    # encoding: [0xd9,0x44,0x24,0x1c]
; X86-NEXT:    fxch %st(1) # encoding: [0xd9,0xc9]
; X86-NEXT:    fstps 24(%ecx) # encoding: [0xd9,0x59,0x18]
; X86-NEXT:    fxch %st(1) # encoding: [0xd9,0xc9]
; X86-NEXT:    fstps 20(%ecx) # encoding: [0xd9,0x59,0x14]
; X86-NEXT:    fxch %st(1) # encoding: [0xd9,0xc9]
; X86-NEXT:    fstps 16(%ecx) # encoding: [0xd9,0x59,0x10]
; X86-NEXT:    fxch %st(1) # encoding: [0xd9,0xc9]
; X86-NEXT:    fstps 12(%ecx) # encoding: [0xd9,0x59,0x0c]
; X86-NEXT:    fxch %st(1) # encoding: [0xd9,0xc9]
; X86-NEXT:    fstps 8(%ecx) # encoding: [0xd9,0x59,0x08]
; X86-NEXT:    fxch %st(1) # encoding: [0xd9,0xc9]
; X86-NEXT:    fstps 4(%ecx) # encoding: [0xd9,0x59,0x04]
; X86-NEXT:    fstps (%ecx) # encoding: [0xd9,0x19]
; X86-NEXT:    movl %ebp, %esp # encoding: [0x89,0xec]
; X86-NEXT:    popl %ebp # encoding: [0x5d]
; X86-NEXT:    .cfi_def_cfa %esp, 4
; X86-NEXT:    retl $4 # encoding: [0xc2,0x04,0x00]
  %ret = call <8 x float> @llvm.x86.vcvtneoph2ps256(ptr %A)
  ret <8 x float> %ret
}
declare <8 x float> @llvm.x86.vcvtneoph2ps256(ptr %A)

define <8 x bfloat> @test_int_x86_vcvtneps2bf16128(<4 x float> %A) {
; X64-LABEL: test_int_x86_vcvtneps2bf16128:
; X64:       # %bb.0:
; X64-NEXT:    pushq %rax # encoding: [0x50]
; X64-NEXT:    .cfi_def_cfa_offset 16
; X64-NEXT:    callq llvm.x86.vcvtneps2bf16128@PLT # encoding: [0xe8,A,A,A,A]
; X64-NEXT:    # fixup A - offset: 1, value: llvm.x86.vcvtneps2bf16128@PLT-4, kind: FK_PCRel_4
; X64-NEXT:    popq %rax # encoding: [0x58]
; X64-NEXT:    .cfi_def_cfa_offset 8
; X64-NEXT:    retq # encoding: [0xc3]
;
; X86-LABEL: test_int_x86_vcvtneps2bf16128:
; X86:       # %bb.0:
; X86-NEXT:    pushl %ebp # encoding: [0x55]
; X86-NEXT:    .cfi_def_cfa_offset 8
; X86-NEXT:    .cfi_offset %ebp, -8
; X86-NEXT:    movl %esp, %ebp # encoding: [0x89,0xe5]
; X86-NEXT:    .cfi_def_cfa_register %ebp
; X86-NEXT:    pushl %ebx # encoding: [0x53]
; X86-NEXT:    pushl %edi # encoding: [0x57]
; X86-NEXT:    pushl %esi # encoding: [0x56]
; X86-NEXT:    andl $-16, %esp # encoding: [0x83,0xe4,0xf0]
; X86-NEXT:    subl $80, %esp # encoding: [0x83,0xec,0x50]
; X86-NEXT:    .cfi_offset %esi, -20
; X86-NEXT:    .cfi_offset %edi, -16
; X86-NEXT:    .cfi_offset %ebx, -12
; X86-NEXT:    movl 8(%ebp), %eax # encoding: [0x8b,0x45,0x08]
; X86-NEXT:    movl %eax, {{[-0-9]+}}(%e{{[sb]}}p) # 4-byte Spill
; X86-NEXT:    # encoding: [0x89,0x44,0x24,0x20]
; X86-NEXT:    movl %eax, {{[-0-9]+}}(%e{{[sb]}}p) # 4-byte Spill
; X86-NEXT:    # encoding: [0x89,0x44,0x24,0x2c]
; X86-NEXT:    flds 24(%ebp) # encoding: [0xd9,0x45,0x18]
; X86-NEXT:    flds 20(%ebp) # encoding: [0xd9,0x45,0x14]
; X86-NEXT:    flds 16(%ebp) # encoding: [0xd9,0x45,0x10]
; X86-NEXT:    flds 12(%ebp) # encoding: [0xd9,0x45,0x0c]
; X86-NEXT:    movl %esp, %eax # encoding: [0x89,0xe0]
; X86-NEXT:    fxch %st(1) # encoding: [0xd9,0xc9]
; X86-NEXT:    fstps 8(%eax) # encoding: [0xd9,0x58,0x08]
; X86-NEXT:    fstps 4(%eax) # encoding: [0xd9,0x58,0x04]
; X86-NEXT:    leal {{[0-9]+}}(%esp), %ecx # encoding: [0x8d,0x4c,0x24,0x30]
; X86-NEXT:    movl %ecx, (%eax) # encoding: [0x89,0x08]
; X86-NEXT:    fstps 12(%eax) # encoding: [0xd9,0x58,0x0c]
; X86-NEXT:    fstps 16(%eax) # encoding: [0xd9,0x58,0x10]
; X86-NEXT:    calll llvm.x86.vcvtneps2bf16128@PLT # encoding: [0xe8,A,A,A,A]
; X86-NEXT:    # fixup A - offset: 1, value: llvm.x86.vcvtneps2bf16128@PLT-4, kind: FK_PCRel_4
; X86-NEXT:    subl $4, %esp # encoding: [0x83,0xec,0x04]
; X86-NEXT:    movl {{[-0-9]+}}(%e{{[sb]}}p), %ecx # 4-byte Reload
; X86-NEXT:    # encoding: [0x8b,0x4c,0x24,0x20]
; X86-NEXT:    movw {{[0-9]+}}(%esp), %dx # encoding: [0x66,0x8b,0x54,0x24,0x30]
; X86-NEXT:    movw {{[0-9]+}}(%esp), %si # encoding: [0x66,0x8b,0x74,0x24,0x32]
; X86-NEXT:    movw {{[0-9]+}}(%esp), %di # encoding: [0x66,0x8b,0x7c,0x24,0x34]
; X86-NEXT:    movw {{[0-9]+}}(%esp), %bx # encoding: [0x66,0x8b,0x5c,0x24,0x36]
; X86-NEXT:    movw {{[0-9]+}}(%esp), %ax # encoding: [0x66,0x8b,0x44,0x24,0x38]
; X86-NEXT:    movw %ax, {{[-0-9]+}}(%e{{[sb]}}p) # 2-byte Spill
; X86-NEXT:    # encoding: [0x66,0x89,0x44,0x24,0x2a]
; X86-NEXT:    movw {{[0-9]+}}(%esp), %ax # encoding: [0x66,0x8b,0x44,0x24,0x3a]
; X86-NEXT:    movw %ax, {{[-0-9]+}}(%e{{[sb]}}p) # 2-byte Spill
; X86-NEXT:    # encoding: [0x66,0x89,0x44,0x24,0x28]
; X86-NEXT:    movw {{[0-9]+}}(%esp), %ax # encoding: [0x66,0x8b,0x44,0x24,0x3c]
; X86-NEXT:    movw %ax, {{[-0-9]+}}(%e{{[sb]}}p) # 2-byte Spill
; X86-NEXT:    # encoding: [0x66,0x89,0x44,0x24,0x26]
; X86-NEXT:    movw {{[0-9]+}}(%esp), %ax # encoding: [0x66,0x8b,0x44,0x24,0x3e]
; X86-NEXT:    movw %ax, 14(%ecx) # encoding: [0x66,0x89,0x41,0x0e]
; X86-NEXT:    movw {{[-0-9]+}}(%e{{[sb]}}p), %ax # 2-byte Reload
; X86-NEXT:    # encoding: [0x66,0x8b,0x44,0x24,0x26]
; X86-NEXT:    movw %ax, 12(%ecx) # encoding: [0x66,0x89,0x41,0x0c]
; X86-NEXT:    movw {{[-0-9]+}}(%e{{[sb]}}p), %ax # 2-byte Reload
; X86-NEXT:    # encoding: [0x66,0x8b,0x44,0x24,0x28]
; X86-NEXT:    movw %ax, 10(%ecx) # encoding: [0x66,0x89,0x41,0x0a]
; X86-NEXT:    movw {{[-0-9]+}}(%e{{[sb]}}p), %ax # 2-byte Reload
; X86-NEXT:    # encoding: [0x66,0x8b,0x44,0x24,0x2a]
; X86-NEXT:    movw %ax, 8(%ecx) # encoding: [0x66,0x89,0x41,0x08]
; X86-NEXT:    movl {{[-0-9]+}}(%e{{[sb]}}p), %eax # 4-byte Reload
; X86-NEXT:    # encoding: [0x8b,0x44,0x24,0x2c]
; X86-NEXT:    movw %bx, 6(%ecx) # encoding: [0x66,0x89,0x59,0x06]
; X86-NEXT:    movw %di, 4(%ecx) # encoding: [0x66,0x89,0x79,0x04]
; X86-NEXT:    movw %si, 2(%ecx) # encoding: [0x66,0x89,0x71,0x02]
; X86-NEXT:    movw %dx, (%ecx) # encoding: [0x66,0x89,0x11]
; X86-NEXT:    leal -12(%ebp), %esp # encoding: [0x8d,0x65,0xf4]
; X86-NEXT:    popl %esi # encoding: [0x5e]
; X86-NEXT:    popl %edi # encoding: [0x5f]
; X86-NEXT:    popl %ebx # encoding: [0x5b]
; X86-NEXT:    popl %ebp # encoding: [0x5d]
; X86-NEXT:    .cfi_def_cfa %esp, 4
; X86-NEXT:    retl $4 # encoding: [0xc2,0x04,0x00]
  %ret = call <8 x bfloat> @llvm.x86.vcvtneps2bf16128(<4 x float> %A)
  ret <8 x bfloat> %ret
}
declare <8 x bfloat> @llvm.x86.vcvtneps2bf16128(<4 x float> %A)

define <8 x bfloat> @test_int_x86_vcvtneps2bf16256(<8 x float> %A) {
; X64-LABEL: test_int_x86_vcvtneps2bf16256:
; X64:       # %bb.0:
; X64-NEXT:    pushq %rax # encoding: [0x50]
; X64-NEXT:    .cfi_def_cfa_offset 16
; X64-NEXT:    callq llvm.x86.vcvtneps2bf16256@PLT # encoding: [0xe8,A,A,A,A]
; X64-NEXT:    # fixup A - offset: 1, value: llvm.x86.vcvtneps2bf16256@PLT-4, kind: FK_PCRel_4
; X64-NEXT:    popq %rax # encoding: [0x58]
; X64-NEXT:    .cfi_def_cfa_offset 8
; X64-NEXT:    retq # encoding: [0xc3]
;
; X86-LABEL: test_int_x86_vcvtneps2bf16256:
; X86:       # %bb.0:
; X86-NEXT:    pushl %ebp # encoding: [0x55]
; X86-NEXT:    .cfi_def_cfa_offset 8
; X86-NEXT:    .cfi_offset %ebp, -8
; X86-NEXT:    movl %esp, %ebp # encoding: [0x89,0xe5]
; X86-NEXT:    .cfi_def_cfa_register %ebp
; X86-NEXT:    pushl %ebx # encoding: [0x53]
; X86-NEXT:    pushl %edi # encoding: [0x57]
; X86-NEXT:    pushl %esi # encoding: [0x56]
; X86-NEXT:    andl $-16, %esp # encoding: [0x83,0xe4,0xf0]
; X86-NEXT:    subl $96, %esp # encoding: [0x83,0xec,0x60]
; X86-NEXT:    .cfi_offset %esi, -20
; X86-NEXT:    .cfi_offset %edi, -16
; X86-NEXT:    .cfi_offset %ebx, -12
; X86-NEXT:    movl 8(%ebp), %eax # encoding: [0x8b,0x45,0x08]
; X86-NEXT:    movl %eax, {{[-0-9]+}}(%e{{[sb]}}p) # 4-byte Spill
; X86-NEXT:    # encoding: [0x89,0x44,0x24,0x30]
; X86-NEXT:    movl %eax, {{[-0-9]+}}(%e{{[sb]}}p) # 4-byte Spill
; X86-NEXT:    # encoding: [0x89,0x44,0x24,0x3c]
; X86-NEXT:    flds 40(%ebp) # encoding: [0xd9,0x45,0x28]
; X86-NEXT:    fstps {{[-0-9]+}}(%e{{[sb]}}p) # 4-byte Folded Spill
; X86-NEXT:    # encoding: [0xd9,0x5c,0x24,0x2c]
; X86-NEXT:    flds 36(%ebp) # encoding: [0xd9,0x45,0x24]
; X86-NEXT:    flds 32(%ebp) # encoding: [0xd9,0x45,0x20]
; X86-NEXT:    flds 28(%ebp) # encoding: [0xd9,0x45,0x1c]
; X86-NEXT:    flds 24(%ebp) # encoding: [0xd9,0x45,0x18]
; X86-NEXT:    flds 20(%ebp) # encoding: [0xd9,0x45,0x14]
; X86-NEXT:    flds 16(%ebp) # encoding: [0xd9,0x45,0x10]
; X86-NEXT:    flds 12(%ebp) # encoding: [0xd9,0x45,0x0c]
; X86-NEXT:    movl %esp, %eax # encoding: [0x89,0xe0]
; X86-NEXT:    fxch %st(1) # encoding: [0xd9,0xc9]
; X86-NEXT:    fstps 8(%eax) # encoding: [0xd9,0x58,0x08]
; X86-NEXT:    flds {{[-0-9]+}}(%e{{[sb]}}p) # 4-byte Folded Reload
; X86-NEXT:    # encoding: [0xd9,0x44,0x24,0x2c]
; X86-NEXT:    fxch %st(1) # encoding: [0xd9,0xc9]
; X86-NEXT:    fstps 4(%eax) # encoding: [0xd9,0x58,0x04]
; X86-NEXT:    leal {{[0-9]+}}(%esp), %ecx # encoding: [0x8d,0x4c,0x24,0x40]
; X86-NEXT:    movl %ecx, (%eax) # encoding: [0x89,0x08]
; X86-NEXT:    fxch %st(1) # encoding: [0xd9,0xc9]
; X86-NEXT:    fstps 12(%eax) # encoding: [0xd9,0x58,0x0c]
; X86-NEXT:    fxch %st(1) # encoding: [0xd9,0xc9]
; X86-NEXT:    fstps 16(%eax) # encoding: [0xd9,0x58,0x10]
; X86-NEXT:    fxch %st(1) # encoding: [0xd9,0xc9]
; X86-NEXT:    fstps 20(%eax) # encoding: [0xd9,0x58,0x14]
; X86-NEXT:    fxch %st(1) # encoding: [0xd9,0xc9]
; X86-NEXT:    fstps 24(%eax) # encoding: [0xd9,0x58,0x18]
; X86-NEXT:    fxch %st(1) # encoding: [0xd9,0xc9]
; X86-NEXT:    fstps 28(%eax) # encoding: [0xd9,0x58,0x1c]
; X86-NEXT:    fstps 32(%eax) # encoding: [0xd9,0x58,0x20]
; X86-NEXT:    calll llvm.x86.vcvtneps2bf16256@PLT # encoding: [0xe8,A,A,A,A]
; X86-NEXT:    # fixup A - offset: 1, value: llvm.x86.vcvtneps2bf16256@PLT-4, kind: FK_PCRel_4
; X86-NEXT:    subl $4, %esp # encoding: [0x83,0xec,0x04]
; X86-NEXT:    movl {{[-0-9]+}}(%e{{[sb]}}p), %ecx # 4-byte Reload
; X86-NEXT:    # encoding: [0x8b,0x4c,0x24,0x30]
; X86-NEXT:    movw {{[0-9]+}}(%esp), %dx # encoding: [0x66,0x8b,0x54,0x24,0x40]
; X86-NEXT:    movw {{[0-9]+}}(%esp), %si # encoding: [0x66,0x8b,0x74,0x24,0x42]
; X86-NEXT:    movw {{[0-9]+}}(%esp), %di # encoding: [0x66,0x8b,0x7c,0x24,0x44]
; X86-NEXT:    movw {{[0-9]+}}(%esp), %bx # encoding: [0x66,0x8b,0x5c,0x24,0x46]
; X86-NEXT:    movw {{[0-9]+}}(%esp), %ax # encoding: [0x66,0x8b,0x44,0x24,0x48]
; X86-NEXT:    movw %ax, {{[-0-9]+}}(%e{{[sb]}}p) # 2-byte Spill
; X86-NEXT:    # encoding: [0x66,0x89,0x44,0x24,0x3a]
; X86-NEXT:    movw {{[0-9]+}}(%esp), %ax # encoding: [0x66,0x8b,0x44,0x24,0x4a]
; X86-NEXT:    movw %ax, {{[-0-9]+}}(%e{{[sb]}}p) # 2-byte Spill
; X86-NEXT:    # encoding: [0x66,0x89,0x44,0x24,0x38]
; X86-NEXT:    movw {{[0-9]+}}(%esp), %ax # encoding: [0x66,0x8b,0x44,0x24,0x4c]
; X86-NEXT:    movw %ax, {{[-0-9]+}}(%e{{[sb]}}p) # 2-byte Spill
; X86-NEXT:    # encoding: [0x66,0x89,0x44,0x24,0x36]
; X86-NEXT:    movw {{[0-9]+}}(%esp), %ax # encoding: [0x66,0x8b,0x44,0x24,0x4e]
; X86-NEXT:    movw %ax, 14(%ecx) # encoding: [0x66,0x89,0x41,0x0e]
; X86-NEXT:    movw {{[-0-9]+}}(%e{{[sb]}}p), %ax # 2-byte Reload
; X86-NEXT:    # encoding: [0x66,0x8b,0x44,0x24,0x36]
; X86-NEXT:    movw %ax, 12(%ecx) # encoding: [0x66,0x89,0x41,0x0c]
; X86-NEXT:    movw {{[-0-9]+}}(%e{{[sb]}}p), %ax # 2-byte Reload
; X86-NEXT:    # encoding: [0x66,0x8b,0x44,0x24,0x38]
; X86-NEXT:    movw %ax, 10(%ecx) # encoding: [0x66,0x89,0x41,0x0a]
; X86-NEXT:    movw {{[-0-9]+}}(%e{{[sb]}}p), %ax # 2-byte Reload
; X86-NEXT:    # encoding: [0x66,0x8b,0x44,0x24,0x3a]
; X86-NEXT:    movw %ax, 8(%ecx) # encoding: [0x66,0x89,0x41,0x08]
; X86-NEXT:    movl {{[-0-9]+}}(%e{{[sb]}}p), %eax # 4-byte Reload
; X86-NEXT:    # encoding: [0x8b,0x44,0x24,0x3c]
; X86-NEXT:    movw %bx, 6(%ecx) # encoding: [0x66,0x89,0x59,0x06]
; X86-NEXT:    movw %di, 4(%ecx) # encoding: [0x66,0x89,0x79,0x04]
; X86-NEXT:    movw %si, 2(%ecx) # encoding: [0x66,0x89,0x71,0x02]
; X86-NEXT:    movw %dx, (%ecx) # encoding: [0x66,0x89,0x11]
; X86-NEXT:    leal -12(%ebp), %esp # encoding: [0x8d,0x65,0xf4]
; X86-NEXT:    popl %esi # encoding: [0x5e]
; X86-NEXT:    popl %edi # encoding: [0x5f]
; X86-NEXT:    popl %ebx # encoding: [0x5b]
; X86-NEXT:    popl %ebp # encoding: [0x5d]
; X86-NEXT:    .cfi_def_cfa %esp, 4
; X86-NEXT:    retl $4 # encoding: [0xc2,0x04,0x00]
  %ret = call <8 x bfloat> @llvm.x86.vcvtneps2bf16256(<8 x float> %A)
  ret <8 x bfloat> %ret
}
declare <8 x bfloat> @llvm.x86.vcvtneps2bf16256(<8 x float> %A)

;; NOTE: These prefixes are unused and the list is autogenerated. Do not add tests below this line:
; CHECK: {{.*}}
